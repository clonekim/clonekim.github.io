<!DOCTYPE html>
<html lang="ko">

<head>
<meta charset="utf-8" />
<meta name="author" content="DAEHEE KIM" />
<meta name="description" content="Personal blog." />
<meta name="keywords" content="blog, tech" />
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.42.1" />

<link rel="canonical" href="http://clonekim.github.io/2015/09/ring%EC%9C%BC%EB%A1%9C-%EC%9B%B9%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">
<base href="http://clonekim.github.io/" />
<meta property="og:title" content="Ring으로 웹프로그래밍" />
<meta property="og:description" content="Hello-Ring 프로젝트 작성 새로운 프로젝트를 생성한다
lein new hello-ring  leiningen.clj
project.clj의 :dependencies에 임베디드 Jetty서버 추가
[ring/ring-jetty-adapter &#34;1.4.0&#34;] ring-jetty-adapter는 ring-core, ring-servlet, jetty-server를 의존성으로 가지고 있다
ring-core: essential functions for handling parameters, cookies and more ring-devel: functions for developing and debugging Ring applications ring-servlet: construct Java servlets from Ring handlers ring-jetty-adapter: a Ring adapter that uses the Jetty webserver  hello_ring.core
(ns hello-ring.core (:use [ring.adapter.jetty])) (defn app-handler [request] {:status 200 :header {&#34;Content-Type&#34; &#34;text/html&#34;} :body &#34;Hello Ring&#34;}) (defn -main [] (run-jetty app-handler {:port 8080})) 실행" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://clonekim.github.io/2015/09/ring%EC%9C%BC%EB%A1%9C-%EC%9B%B9%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/" />



<meta property="article:published_time" content="2015-09-11T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2015-09-11T00:00:00&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ring으로 웹프로그래밍"/>
<meta name="twitter:description" content="Hello-Ring 프로젝트 작성 새로운 프로젝트를 생성한다
lein new hello-ring  leiningen.clj
project.clj의 :dependencies에 임베디드 Jetty서버 추가
[ring/ring-jetty-adapter &#34;1.4.0&#34;] ring-jetty-adapter는 ring-core, ring-servlet, jetty-server를 의존성으로 가지고 있다
ring-core: essential functions for handling parameters, cookies and more ring-devel: functions for developing and debugging Ring applications ring-servlet: construct Java servlets from Ring handlers ring-jetty-adapter: a Ring adapter that uses the Jetty webserver  hello_ring.core
(ns hello-ring.core (:use [ring.adapter.jetty])) (defn app-handler [request] {:status 200 :header {&#34;Content-Type&#34; &#34;text/html&#34;} :body &#34;Hello Ring&#34;}) (defn -main [] (run-jetty app-handler {:port 8080})) 실행"/>



<meta itemprop="name" content="Ring으로 웹프로그래밍">
<meta itemprop="description" content="Hello-Ring 프로젝트 작성 새로운 프로젝트를 생성한다
lein new hello-ring  leiningen.clj
project.clj의 :dependencies에 임베디드 Jetty서버 추가
[ring/ring-jetty-adapter &#34;1.4.0&#34;] ring-jetty-adapter는 ring-core, ring-servlet, jetty-server를 의존성으로 가지고 있다
ring-core: essential functions for handling parameters, cookies and more ring-devel: functions for developing and debugging Ring applications ring-servlet: construct Java servlets from Ring handlers ring-jetty-adapter: a Ring adapter that uses the Jetty webserver  hello_ring.core
(ns hello-ring.core (:use [ring.adapter.jetty])) (defn app-handler [request] {:status 200 :header {&#34;Content-Type&#34; &#34;text/html&#34;} :body &#34;Hello Ring&#34;}) (defn -main [] (run-jetty app-handler {:port 8080})) 실행">


<meta itemprop="datePublished" content="2015-09-11T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2015-09-11T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="705">



<meta itemprop="keywords" content="clojure,ring," />


<link rel="stylesheet" href="css/layout.css" />
<link rel="stylesheet" href="css/color-dark.css" />


<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-121397292-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<title>


     Ring으로 웹프로그래밍 

</title>

<script src="js/highlight.min.js"></script>
<link rel="stylesheet" href="css/tomorrow-night.min.css" />
<script>hljs.initHighlightingOnLoad();</script>

</head>


<body>
<div class="main">
<header>

<div class="header-bar">

  <nav>
    <div class="siteTitle">
      <a href="http://clonekim.github.io/">(fn [] &#34;Less is more&#34;)</a>
    </div> 

    
    
    <a class="nav-item" href="/tags/"><div class="nav-item-title">Tags</div></a>
    
    <a class="nav-item active" href="/post/"><div class="nav-item-title">Posts</div></a>
    

  </nav>
</div>

  
<div class="social-links-header">

  
  <a href="mailto:clonekim-at-gmail-dot-com"><div class="social-link">Email</div></a>
  

  
  <a href="https://github.com/clonekim" target="_blank"><div class="social-link">GitHub</div></a>
  

  

  

  

</div>


</header>


<article class="post">
    <h1 class="title"> Ring으로 웹프로그래밍 </h1>
    <div class="content"> 

<h2 id="hello-ring-프로젝트-작성">Hello-Ring 프로젝트 작성</h2>

<p><em>새로운 프로젝트를 생성한다</em></p>

<pre><code>lein new hello-ring
</code></pre>

<p><em>leiningen.clj</em></p>

<p>project.clj의 :dependencies에 임베디드 Jetty서버 추가</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clj" data-lang="clj">[ring/ring-jetty-adapter <span style="color:#e6db74">&#34;1.4.0&#34;</span>]</code></pre></div>
<p>ring-jetty-adapter는 ring-core, ring-servlet, jetty-server를 의존성으로 가지고 있다</p>

<pre><code>ring-core: essential functions for handling parameters, cookies and more
ring-devel: functions for developing and debugging Ring applications
ring-servlet: construct Java servlets from Ring handlers
ring-jetty-adapter: a Ring adapter that uses the Jetty webserver
</code></pre>

<p><em>hello_ring.core</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">ns </span>hello-ring.core
	(<span style="color:#e6db74">:use</span> [ring.adapter.jetty]))


(<span style="color:#66d9ef">defn </span>app-handler [request]
   {<span style="color:#e6db74">:status</span> <span style="color:#ae81ff">200</span>
    <span style="color:#e6db74">:header</span> {<span style="color:#e6db74">&#34;Content-Type&#34;</span> <span style="color:#e6db74">&#34;text/html&#34;</span>}
    <span style="color:#e6db74">:body</span> <span style="color:#e6db74">&#34;Hello Ring&#34;</span>})


(<span style="color:#66d9ef">defn </span>-main []
   (run-jetty app-handler {<span style="color:#e6db74">:port</span> <span style="color:#ae81ff">8080</span>}))</code></pre></div>
<p><em>실행</em></p>

<p><img src="/img/clojure/ring-start.png" alt="Hello Ring" /></p>

<pre><code>lein run -m hello-ring.core
...
2015-09-11 16:02:19.133:INFO:oejs.Server:nREPL-worker-0: jetty-9.2.10.v20150310
2015-09-11 16:02:19.153:INFO:oejs.ServerConnector:nREPL-worker-0: Started ServerConnector@31de707e{HTTP/1.1}{0.0.0.0:8080}
2015-09-11 16:02:19.154:INFO:oejs.Server:nREPL-worker-0: Started @12408ms
</code></pre>

<h2 id="middleware">MiddleWare</h2>

<h3 id="ring-json">ring-json</h3>

<p><em>leiningen</em></p>

<pre><code>[ring/ring-json &quot;0.4.0&quot;]
</code></pre>

<p><em>응답을 json으로 처리</em></p>

<p>요청 결과를 JSON을 보내기 위해서 일부러 Content-Type를 설정 하는 것 보다<br />
response 그런 기능을 삽입하는 것이다</p>

<p>ring.middleware.json의 wrap-json-response를 사용한다</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">ns </span>hello-ring.core
	(<span style="color:#e6db74">:use</span> [ring.adapter.jetty]
         [ring.middleware.json <span style="color:#e6db74">:only</span> [wrap-json-response]]
         [ring.util.response <span style="color:#e6db74">:as</span> response]))

(<span style="color:#66d9ef">defn </span>app-handler [request]
	(response {<span style="color:#e6db74">:name</span> <span style="color:#e6db74">&#34;Hello&#34;</span> }))

(<span style="color:#66d9ef">def </span>app-handler
	(wrap-json-response app-handler))

(<span style="color:#66d9ef">defn </span>-main []
	(run-jetty app-handler {<span style="color:#e6db74">:port</span> <span style="color:#ae81ff">3000</span>}))</code></pre></div>
<p><img src="/img/clojure/json-resp.png" alt="json-resp" /></p>

<p><em>request를 json으로 다루기</em></p>

<p>body자체를 json으로 받거나 요청파라미터를 처리할 경우에<br />
ring.middleware.json 의 wrap-json-body, wrap-json-params이 필요함<br />
반드시 Content-Type이 application/json 일 경우에만 반응함</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clj" data-lang="clj">(POST <span style="color:#e6db74">&#34;/confirm&#34;</span> req
  (<span style="color:#66d9ef">let </span>[name (get-in req [<span style="color:#e6db74">:params</span> <span style="color:#e6db74">&#34;name&#34;</span>])]
  (response {<span style="color:#e6db74">:desc</span> (str <span style="color:#e6db74">&#34;The name you sent to me was &#34;</span> name)})))

(POST <span style="color:#e6db74">&#34;/&#34;</span> req
  (println (get (<span style="color:#e6db74">:body</span> req) <span style="color:#e6db74">&#34;age&#34;</span>)))  </code></pre></div>
<p>curl를 이용해서 request 를 보내보자</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> -X POST -d <span style="color:#e6db74">&#39;{&#34;age&#34; : 20}&#39;</span> http://127.0.0.1:8080</code></pre></div>
<p>post로 json 데이터를 보낼 경우 body를 출력시<br />
PersistentArrayMap 로 나타난다<br />
<a href="https://clojure.github.io/clojure/clojure.core-api.html#clojure.core/get">clojure.core/get</a> 으로 값 취득한다</p>

<p><em>json request를 param으로 읽기</em></p>

<p>ring.middleware.json 의  wrap-json-params이 필요함<br />
반드시 Content-Type이 application/json 일 경우에만 반응함</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> -X POST -d <span style="color:#e6db74">&#39;{&#34;age&#34; : 20, &#34;name&#34;: &#34;kim&#34;}&#39;</span> http://127.0.0.1:8080/confirm</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(POST <span style="color:#e6db74">&#34;/confirm&#34;</span> {p <span style="color:#e6db74">:params</span>}
  (println p)) <span style="color:#75715e">; {age 20, name kim} 으로 출력</span>

<span style="color:#75715e">;위와 같음</span>
(POST <span style="color:#e6db74">&#34;/confirm&#34;</span> {model <span style="color:#e6db74">:json-params</span>}
   (println (get model <span style="color:#e6db74">&#34;name&#34;</span>))<span style="color:#75715e">; =&gt; 20</span>
   
<span style="color:#75715e">;파라미터를 인자로 받음</span>
(POST <span style="color:#e6db74">&#34;/confirm&#34;</span> [name age]
...

<span style="color:#75715e">; request를 그대로 사용</span>
(POST <span style="color:#e6db74">&#34;/confirm&#34;</span> req
  (<span style="color:#66d9ef">let </span>[name (get-in req [<span style="color:#e6db74">:params</span> <span style="color:#e6db74">&#34;name&#34;</span>])]
  (response {<span style="color:#e6db74">:desc</span> (str <span style="color:#e6db74">&#34;The name you sent to me was &#34;</span> name)})))</code></pre></div>
<h2 id="routing">Routing</h2>

<h3 id="compojure">Compojure</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">ns </span>hello-ring.core
	(<span style="color:#e6db74">:require</span> [compojure.core <span style="color:#e6db74">:refer</span> [defroutes GET]]
		  [ring.adapter.jetty <span style="color:#e6db74">:as</span> ring]))


(defroutes routes
	(GET <span style="color:#e6db74">&#34;/&#34;</span> [] <span style="color:#e6db74">&#34;&lt;h1&gt;Compojure111&lt;/h1&gt;&#34;</span>)
	(POST <span style="color:#e6db74">&#34;/login&#34;</span> req
		(<span style="color:#66d9ef">let </span>[id (get (<span style="color:#e6db74">:params</span> req) <span style="color:#e6db74">:id</span>)
		      passwd (get (<span style="color:#e6db74">:params</span> req) <span style="color:#e6db74">:passwd</span>)]
		(str <span style="color:#e6db74">&#34;Your Id: &#34;</span> id <span style="color:#e6db74">&#34; Password: &#34;</span> passwd))))

(<span style="color:#66d9ef">defn </span>-main []
	(ring/run-jetty <span style="color:#f92672">#</span><span style="color:#e6db74">&#39;routes</span> {<span style="color:#e6db74">:port</span> <span style="color:#ae81ff">8080</span> <span style="color:#e6db74">:join?</span> false}))</code></pre></div>
<h3 id="page-not-found">Page Not Found</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clj" data-lang="clj">(<span style="color:#66d9ef">ns </span>hello-ring.core
   (<span style="color:#e6db74">:require</span> [compojure.core <span style="color:#e6db74">:refer</span> <span style="color:#e6db74">:all</span>]
	     [compojure.route <span style="color:#e6db74">:as</span> route]
	     [ring.adapter.jetty <span style="color:#e6db74">:as</span> ring]))

...
(defroutes app
  (GET <span style="color:#e6db74">&#34;/&#34;</span> [] (index))
  (route/not-found <span style="color:#e6db74">&#34;&lt;h1&gt;Page not found&lt;/h1&gt;&#34;</span>))

(<span style="color:#66d9ef">defn </span>-main []
  (ring/run-jetty <span style="color:#f92672">#</span><span style="color:#e6db74">&#39;app</span> {<span style="color:#e6db74">:port</span> <span style="color:#ae81ff">8080</span> <span style="color:#e6db74">:join?</span> false}))</code></pre></div>
<h2 id="미들웨어를-적용한-소스">미들웨어를 적용한 소스</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clj" data-lang="clj">(<span style="color:#66d9ef">ns </span>hello-ring.core
	(<span style="color:#e6db74">:use</span>
		[ring.util.response <span style="color:#e6db74">:as</span> response])
		
	(<span style="color:#e6db74">:require</span>
		[compojure.core <span style="color:#e6db74">:refer</span> <span style="color:#e6db74">:all</span>]
		[compojure.route <span style="color:#e6db74">:as</span> route]
		[ring.middleware.json <span style="color:#e6db74">:refer</span> [wrap-json-response wrap-json-body wrap-json-params]]
		[ring.middleware.defaults <span style="color:#e6db74">:refer</span> [wrap-defaults site-defaults]]))
	
(defroutes app-routes
	(GET <span style="color:#e6db74">&#34;/&#34;</span> [] (str <span style="color:#e6db74">&#34;Hello &#34;</span> <span style="color:#e6db74">&#34;Clojure&#34;</span>))
	(GET <span style="color:#e6db74">&#34;/what-my-ip&#34;</span> req (response {<span style="color:#e6db74">:name</span> <span style="color:#e6db74">&#34;Hello&#34;</span> <span style="color:#e6db74">:ip</span> (<span style="color:#e6db74">:remote-addr</span> req)}))
	(POST <span style="color:#e6db74">&#34;/login&#34;</span> req 
	   (<span style="color:#66d9ef">let </span>[id (get (<span style="color:#e6db74">:params</span> req) <span style="color:#e6db74">:id</span>)
	         passwd (get (<span style="color:#e6db74">:params</span> req) <span style="color:#e6db74">:passwd</span>)]	          
	      (response {<span style="color:#e6db74">:id</span> id <span style="color:#e6db74">:passwd</span> passwd})))
	      
	(POST <span style="color:#e6db74">&#34;/confirm&#34;</span> req
		<span style="color:#66d9ef">let </span>[name (get-in req [<span style="color:#e6db74">:params</span> <span style="color:#e6db74">&#34;name&#34;</span>])]
		(response {<span style="color:#e6db74">:desc</span> (str <span style="color:#e6db74">&#34;The name you sent to me was &#34;</span> name)}))		
	(route/not-found <span style="color:#e6db74">&#34;Page not found&#34;</span>))


(<span style="color:#66d9ef">def </span>app-routes
	(-&gt; app-routes		
	  (wrap-json-body {<span style="color:#e6db74">:keywords?</span> true <span style="color:#e6db74">:bigdecimals?</span> true})
		wrap-json-params
		wrap-json-response))

(<span style="color:#66d9ef">def </span>app
	(wrap-defaults app-routes (assoc-in site-defaults [<span style="color:#e6db74">:security</span> <span style="color:#e6db74">:anti-forgery</span>] false)))</code></pre></div>
<h2 id="hiccup">Hiccup</h2>

<p><em>leiningen</em></p>

<pre><code>[hiccup &quot;1.0.5&quot;]
</code></pre>

<p><em>repl에서 바로 테스트</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(require <span style="color:#f92672">&#39;</span>[hiccup.core <span style="color:#e6db74">:as</span> h])
(h/html [<span style="color:#e6db74">:h1</span> <span style="color:#e6db74">&#34;Hello World&#34;</span>])
<span style="color:#75715e">;; &lt;h1&gt;Hello World&lt;/h1&gt;&#34;</span></code></pre></div>
<p><em>ring에서 사용해보자</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">ns </span>hello-ring.core
   (<span style="color:#e6db74">:require</span> [compojure.core <span style="color:#e6db74">:refer</span> [defroutes GET]]
	     [ring.adapter.jetty <span style="color:#e6db74">:refer</span> [run-jetty]]
	     [hiccup.page <span style="color:#e6db74">:as</span> page]))

(<span style="color:#66d9ef">defn </span>index []
   (page/html5
	[<span style="color:#e6db74">:head</span>
	   [<span style="color:#e6db74">&#34;title&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;Hiccup test&#34;</span>]]
	[<span style="color:#e6db74">:body</span>
	   [<span style="color:#e6db74">:div</span> {<span style="color:#e6db74">:id</span> <span style="color:#e6db74">&#34;content&#34;</span>} <span style="color:#e6db74">&#34;Hello World&#34;</span>]] ))

	
(defroutes routes
   (GET <span style="color:#e6db74">&#34;/&#34;</span> [] (index)))

(<span style="color:#66d9ef">def </span>-main []
   (run-jetty <span style="color:#f92672">#</span><span style="color:#e6db74">&#39;routes</span> {<span style="color:#e6db74">:port</span> <span style="color:#ae81ff">8080</span>})   </code></pre></div>
<p>실제 html소스에서 공백이 제외된다</p>

<p><img src="/img/clojure/hiccup-html-source.png" alt="Hiccup Source" /></p>

<h2 id="jade">Jade</h2>

<p><a href="https://github.com/neuland/jade4j">jade4</a>를 wrapper한 jade 뷰템플릿이다</p>

<p><em>leiningen</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">[clj-jade <span style="color:#e6db74">&#34;0.1.7&#34;</span>]</code></pre></div>
<p><em>jade_config.clj</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">ns </span>hello-ring.jade-config
  (<span style="color:#e6db74">:require</span>
    [clj-jade.core <span style="color:#e6db74">:as</span> jade]
    [clojure.java.io <span style="color:#e6db74">:as</span> io]))


(jade/configure {<span style="color:#e6db74">:template-dir</span> <span style="color:#e6db74">&#34;public&#34;</span>
                 <span style="color:#e6db74">:pretty-print</span> false
                 <span style="color:#e6db74">:cache?</span> true})</code></pre></div>
<p><em>core.clj</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">ns </span>hello-ring.core

  (<span style="color:#e6db74">:use</span> 
    [hello-ring.jade-config])

  (<span style="color:#e6db74">:require</span>
    [clj-jade.core <span style="color:#e6db74">:as</span> jade]))


(<span style="color:#66d9ef">defn </span>index []
  (jade/render <span style="color:#e6db74">&#34;index.jade&#34;</span> {<span style="color:#e6db74">&#34;title&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;Hello World&#34;</span>})</code></pre></div>
<p><em>public/index.jade</em></p>

<p>title값이 치환된다</p>

<pre><code>!!!5
html
    head
        title= #{title}
        link(href=&quot;css/bootstrap.css&quot;, rel=&quot;stylesheet&quot;, type=&quot;text/css&quot;)
        link(href=&quot;css/font-awesome.css&quot;, rel=&quot;stylesheet&quot;, type=&quot;text/css&quot;)
    body
        nav(class=&quot;navbar-default&quot;)
            div(class=&quot;container&quot;)
...             
</code></pre>

<h2 id="http-kit">Http-kit</h2>

<p><a href="http://www.http-kit.org/">http://www.http-kit.org</a></p>

<p>jetty 에서 http-kit으로 변경</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure">(<span style="color:#66d9ef">ns </span>hello-ring.core 
  (<span style="color:#e6db74">:require</span> [ring.adapter.jetty <span style="color:#e6db74">:refer</span> [run-server]])
...

(<span style="color:#66d9ef">defn </span>-main []
  (run-server <span style="color:#f92672">#</span><span style="color:#e6db74">&#39;app</span> {<span style="color:#e6db74">:port</span> <span style="color:#ae81ff">8080</span>}))</code></pre></div>
<h2 id="plugins">Plugins</h2>

<h3 id="lein-ring">lein-ring</h3>

<p>Leiningen의 Ring 작업을 편하기 하기 위한 플러그인이다<br />
즉 서버를 구동하거나 jar, war로 디플로이하는 하는 일이다</p>

<p><em>project.clj</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure"> <span style="color:#e6db74">:plugins</span> [[lein-ring <span style="color:#e6db74">&#34;0.8.13&#34;</span>]]
 <span style="color:#e6db74">:ring</span> {<span style="color:#e6db74">:handler</span> hello-ring.core/app} <span style="color:#75715e">;;시작할 수 있는 핸들러를 지정</span></code></pre></div>
<p>바로 서버구동이 가능하고 기본적으로 3000 포트를 사용함<br />
이제 서버측 코드를 수정하면 바로 적용이 된다</p>

<p><em>실행</em></p>

<pre><code>lein ring server
</code></pre>

<h2 id="참고">참고</h2>

<ul>
<li><a href="https://github.com/ring-clojure/ring">https://github.com/ring-clojure/ring</a></li>
<li><a href="https://github.com/weavejester/hiccup">https://github.com/weavejester/hiccup</a></li>
<li><a href="https://github.com/revelytix/lein-ring">https://github.com/revelytix/lein-ring</a></li>
<li><a href="liquidz.github.io/2011/12/practical-compojure.html">実践(?)Compojure</a></li>
<li><a href="https://github.com/technomancy/shouter">shouter</a></li>
</ul>
 </div>
    <footer class="post-footer">

  <div class="post-footer-data">
    
<div class="tags">
    
      <div class="tag">
        <a href="/tags/clojure">#clojure</a>
      </div>
    
      <div class="tag">
        <a href="/tags/ring">#ring</a>
      </div>
    
</div>

    <div class="date"> Sep 11, 2015 </div>
  </div>

</footer>


  
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'clonekim-github-io';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>
  Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




</article>

  <footer>

  <div class="social-links-footer">

  
  <a href="mailto:clonekim-at-gmail-dot-com"><div class="social-link">Email</div></a>
  

  
  <a href="https://github.com/clonekim" target="_blank"><div class="social-link">GitHub</div></a>
  

  

  

  

  <div class="social-link">
  <a href="http://clonekim.github.io/index.xml" target="_blank">RSS</a>
  </div>

</div>


  <div class="copyright">  </div>

  <div class="poweredby">
    Powered by <a href="https://gohugo.io/">Hugo</a>.
  </div>

  </footer>

</body>
</html>

