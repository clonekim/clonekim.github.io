<!DOCTYPE html>
<html lang="ko">

<head>
<meta charset="utf-8" />
<meta name="author" content="DAEHEE KIM" />
<meta name="description" content="Personal blog." />
<meta name="keywords" content="blog, tech" />
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.27.1" />

<link rel="canonical" href="http://localhost:1313/2015/09/clojure-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/">
<base href="http://localhost:1313/" />
<meta property="og:title" content="Clojure 시작하기" />
<meta property="og:description" content="JVM위에서 작동하는 함수형 프로그래밍이다
clojure 얻기 http://clojure.org
IDE/Tools  LightTable Cursive Emacs  Leiningen으로 시작하기 Leiningen (레닝겐)은 클로져를 쉽게 시작하기 위한 빌드자동화 툴이다
윈도우에서만 self-install해준다
Project 생성 lein new [프로젝트명]  프로젝트 의존성 추가 라이브러리는 아래의 저장소에서 검색이 가능하고
의존성에 추가하면 된다
 clojars Maven repository  :dependencies [[org.clojure/clojure &quot;1.7.0&quot;] [groupId/artifactId &quot;version&quot;]])  그외의 라이브러리 저장소로는 추가로 지정할수있다
:repositories { &quot;이름&quot; &quot;http://192.168.0.10:8081/nexus/content/repositories/thirdparty&quot; }  REPL(Read Eval Print Loop) 실행 lein repl  REPL에서 클로저코드를 작성하고 바로 실행이 가능하다" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/2015/09/clojure-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/" />



<meta property="article:published_time" content="2015-09-25T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2015-09-25T00:00:00&#43;00:00"/>











<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Clojure 시작하기"/>
<meta name="twitter:description" content="JVM위에서 작동하는 함수형 프로그래밍이다
clojure 얻기 http://clojure.org
IDE/Tools  LightTable Cursive Emacs  Leiningen으로 시작하기 Leiningen (레닝겐)은 클로져를 쉽게 시작하기 위한 빌드자동화 툴이다
윈도우에서만 self-install해준다
Project 생성 lein new [프로젝트명]  프로젝트 의존성 추가 라이브러리는 아래의 저장소에서 검색이 가능하고
의존성에 추가하면 된다
 clojars Maven repository  :dependencies [[org.clojure/clojure &quot;1.7.0&quot;] [groupId/artifactId &quot;version&quot;]])  그외의 라이브러리 저장소로는 추가로 지정할수있다
:repositories { &quot;이름&quot; &quot;http://192.168.0.10:8081/nexus/content/repositories/thirdparty&quot; }  REPL(Read Eval Print Loop) 실행 lein repl  REPL에서 클로저코드를 작성하고 바로 실행이 가능하다"/>



<meta itemprop="name" content="Clojure 시작하기">
<meta itemprop="description" content="JVM위에서 작동하는 함수형 프로그래밍이다
clojure 얻기 http://clojure.org
IDE/Tools  LightTable Cursive Emacs  Leiningen으로 시작하기 Leiningen (레닝겐)은 클로져를 쉽게 시작하기 위한 빌드자동화 툴이다
윈도우에서만 self-install해준다
Project 생성 lein new [프로젝트명]  프로젝트 의존성 추가 라이브러리는 아래의 저장소에서 검색이 가능하고
의존성에 추가하면 된다
 clojars Maven repository  :dependencies [[org.clojure/clojure &quot;1.7.0&quot;] [groupId/artifactId &quot;version&quot;]])  그외의 라이브러리 저장소로는 추가로 지정할수있다
:repositories { &quot;이름&quot; &quot;http://192.168.0.10:8081/nexus/content/repositories/thirdparty&quot; }  REPL(Read Eval Print Loop) 실행 lein repl  REPL에서 클로저코드를 작성하고 바로 실행이 가능하다">


<meta itemprop="dateModified" content="2015-09-25T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1093">



<meta itemprop="keywords" content="clojure," />


<link rel="stylesheet" href="css/layout.css" />
<link rel="stylesheet" href="css/color-dark.css" />



<title>


     Clojure 시작하기 

</title>

<script src="js/highlight.min.js"></script>
<link rel="stylesheet" href="css/tomorrow-night.min.css" />
<script>hljs.initHighlightingOnLoad();</script>

</head>


<body>
<div class="main">
<header>

<div class="header-bar">

  <nav>
    <div class="siteTitle">
      <a href="http://localhost:1313/">Less is more</a>
    </div> 

    
    
    <a class="nav-item" href="/tags/"><div class="nav-item-title">Tags</div></a>
    
    <a class="nav-item active" href="/post/"><div class="nav-item-title">Posts</div></a>
    

  </nav>
</div>

  
<div class="social-links-header">

  

  
  <a href="https://github.com/clonekim/" target="_blank"><div class="social-link">GitHub</div></a>
  

  

  

  

</div>


</header>


<article class="post">
    <h1 class="title"> Clojure 시작하기 </h1>
    <div class="content"> 

<p>JVM위에서 작동하는 함수형 프로그래밍이다</p>

<h2 id="clojure-얻기">clojure 얻기</h2>

<p><a href="http://clojure.org">http://clojure.org</a></p>

<h2 id="ide-tools">IDE/Tools</h2>

<ul>
<li><a href="http://lighttable.com">LightTable</a></li>
<li><a href="https://cursiveclojure.com">Cursive</a></li>
<li>Emacs</li>
</ul>

<h2 id="leiningen으로-시작하기">Leiningen으로 시작하기</h2>

<p><a href="http://leiningen.org">Leiningen</a> (레닝겐)은 클로져를 쉽게 시작하기 위한 빌드자동화 툴이다</p>

<p>윈도우에서만 self-install해준다</p>

<p><img src="/img/clojure/lein-self-install.png" alt="Image 1" /></p>

<h2 id="project-생성">Project 생성</h2>

<pre><code>lein new [프로젝트명]
</code></pre>

<h2 id="프로젝트-의존성-추가">프로젝트 의존성 추가</h2>

<p>라이브러리는 아래의 저장소에서 검색이 가능하고<br />
의존성에 추가하면 된다</p>

<ul>
<li><a href="https://clojars.org">clojars</a></li>
<li><a href="http://mvnrepository.com">Maven repository</a></li>
</ul>

<pre><code class="language-clojure"> :dependencies [[org.clojure/clojure &quot;1.7.0&quot;]
                [groupId/artifactId &quot;version&quot;]])
</code></pre>

<p>그외의 라이브러리 저장소로는 추가로 지정할수있다</p>

<pre><code class="language-clojure">  :repositories {
       &quot;이름&quot; &quot;http://192.168.0.10:8081/nexus/content/repositories/thirdparty&quot;
    }
</code></pre>

<h2 id="repl-read-eval-print-loop-실행">REPL(Read Eval Print Loop) 실행</h2>

<pre><code>lein repl
</code></pre>

<p>REPL에서 클로저코드를 작성하고 바로 실행이 가능하다</p>

<pre><code class="language-clojure">user=&gt; (+ 1 3)
4
user=&gt; (doc conj) ;도움말 보기
-------------------------
clojure.core/conj
([coll x] [coll x &amp; xs])
  conj[oin]. Returns a new collection with the xs
    'added'. (conj nil item) returns (item).  The 'addition' may
    happen at different 'places' depending on the concrete type.
nil
user=&gt; (doc +)
-------------------------
clojure.core/+
([] [x] [x y] [x y &amp; more])
  Returns the sum of nums. (+) returns 0. Does not auto-promote
  longs, will throw on overflow. See also: +'
nil  
</code></pre>

<h2 id="자료구조">자료구조</h2>

<p>repl에서 아래를 입력해보고 결과를 보자</p>

<pre><code class="language-clojure">4/2
;; 2

4.0/2
;; NumberFormatException Invalid number: 4.0/2

(/ 1 3)
;;  1/3

(/ 1.0 3)
;; 0.3333333333333

&quot;jam&quot;
;; 문자열은 반드시 쌍따옴표를 사용할 것

:jam
;; 이것은 키워드

(+ 1 1)
;; 2
</code></pre>

<p>collecton 과 sequence로 나뉘는데<br />
콜렉션은 단순히 vecotr, list, map 이 있고 영속적이고 불변적인 데이터구조이고<br />
clojure.lang.IPersistentCollection 인터페이스를 구현한 녀석들이다</p>

<p>그리고 count, conj, seq라는 메서드를 사용할 수있다</p>

<p>seq라는 함수는 콜렉션을 시퀀스로 바꿔주는 역할을 한다.</p>

<p>시퀀스란 walkable(순회가능한)리스트이다 또한 영속적이고 불변적이고<br />
first, rest, cons라는 메서드를 사용한다.</p>

<pre><code class="language-clojure">user=&gt; (class [1 2 3])
clojure.lang.PersistentVector
user=&gt; (class (seq [1 2 3]))
clojure.lang.PersistentVector$ChunkedSeq
</code></pre>

<h3 id="list">List</h3>

<p>리스트는 &lsquo;(quote)로 시작 하거나 list를 사용할 것<br />
만약 &lsquo;(&rsquo; 로 시작하면 문법파싱이 일어나서 첫번째를 함수로 인식 결국 에러 발생</p>

<pre><code class="language-clojure">'(1 2 &quot;jam&quot; :jack)

;;위와 같음 콤마(,)는 생략가능
'(1, 2, &quot;jam&quot;, :jack)

(list 1 2 3 4)
;; (1 2 3 4)

(first '(1 2 3 4))
;; 1

(rest '(1 2 3 4))
;; (2 3 4)

(last '(1 2 3 4))
;; 4

(cons 4 '(1 2 3))
;; (4 1 2 3)

(cons 5 '())
;; (5)

(cons 5 nil)
;; (5)

(conj '(1 2 3) 4)
;; (4 1 2 3)

(conj '(1 2 3) 4 5)
;; (5 4 1 2 3)
</code></pre>

<h3 id="vector">Vector</h3>

<p>[ ]를 사용하여 표현하고 인덱스값으로 접근이 가능함</p>

<pre><code class="language-clojure">[:jam 1 2 3]

(first [:jam 1 2 3])
;; :jam

(rest [:jam 1 2 3])
;; (1 2 3)

(last [:jam 1 2 3])
;; 3

(nth [:jam 1 2 3] 2)
;; 2

(count [1 2 3))
;; 3

(conj [1 2 3] :butter)
;; [1 2 3 :butter]  벡터 끝에 요소를 추가함
</code></pre>

<h3 id="map">Map</h3>

<p>키:값 구조로 키는 문자열이나 키워드를 사용함<br />
키 값으로 데이터를 찾을 수 있음</p>

<pre><code class="language-clojure">{:weapon &quot;gun&quot; :armor 120}

(get {:weapon &quot;gun&quot; :armor 120} :weapon)
;; &quot;gun&quot;

(get {:weapon &quot;gun&quot; :armor 120} :speed)
;; nil

(get {:weapon &quot;gun&quot; :armor 120} :speed &quot;error&quot;)
;; &quot;error&quot;

(:armor {:weapon &quot;gun&quot; :armor 120})
;; 120

(keys {:weapon &quot;gun&quot; :armor 120})
;; (:weapon :armor)

(vals {:weapon &quot;gun&quot; :armor 120})
;; (&quot;gun&quot; 120)


(assoc {:weapon &quot;gun&quot; :armor 120} :speed 90)
;; {:weapon &quot;gun&quot; :armor 120 :speed 90}

(dissoc {:weapon &quot;gun&quot; :armor 120 :speed 90} :armor)
;; {:weapon &quot;gun&quot; :speed 90}
</code></pre>

<h3 id="set">Set</h3>

<p>중복되지 않는 요소만 포함한다</p>

<pre><code class="language-clojure">#{:red :blud :white :pink}

;; set은 다른 콜렉션을 Set로 바꾼다
(set [1 2 3])
;;#{1 3 2}

(set '(1 2 3))
;; #{1 3 2}

(set {:a 1 :b 2 :c 3})
;; #{[:c 3] [:b 2] [:a 1]}


(clojure.set/union #{:r :b :w} #{:w :p :y})
;; #{:y :r :w :b :p}  중복요소 제거하고 모두 포함

(clojure.set/difference #{:r :b :w} #{:w :p :y})
;; #{:r :b}

(clojure.set/intersection #{:r :b :w} #{:w :p :y})
;;#{:w}
</code></pre>

<h2 id="binding">Binding</h2>

<p>변수에 값을 할당하는 과정을 말한다<br />
repl에서 정의하면 기본적으로 user라는 네임공간(namespace)서만 사용가능하다</p>

<pre><code class="language-clojure">(def devloper &quot;Alice&quot;)
;; #'user/developer
</code></pre>

<p>let은 해당 컨텍스트안에서만 유효한 로컬 변수임</p>

<pre><code class="language-clojure">(let [developer &quot;Alice in Wonderland&quot;])

(let [developer &quot;Alice in Wonderland&quot; rabbit &quot;White Rabbit&quot; ])

(let [[color size] [&quot;blue&quot; &quot;small&quot;]]
  (str &quot;The &quot; color &quot; door is &quot; size))
;; &quot;The blue door is small&quot;

(let [x [&quot;blue&quot; &quot;small&quot;]
  color (first x)
  size (last x)]
   (str &quot;The &quot; color &quot; door is &quot; size))
;; &quot;The blue door is small&quot;


;; 현재 네임공간 확인
*ns*
;; #object[clojure.lang.Namespace 0x4e5051b9 &quot;user&quot;]

;; 다른 네임공간으로 전환
(ns alice)
(def name &quot;King&quot;)
(ns user)
alice/name
;; &quot;King&quot; 다른 네임공간의 변수를 사용

;; alias 사용
(require '[alice :as al])
al/name
;; &quot;King&quot;

;; alias 사용하지 않고 현재 네임공간에서 사용할 경우
(ns wonderland
  (:require [alice :refer :all] ;;alice 네임공간의 모든 것을 현재 네임공간에서 사용한다
            [rabbit :refer :all]))
            
;;함수명이 같아서 충돌할 경우가 발생할 수 도 있다
;; 그럴 경우 일부만 as(aliase)로  사용하자

(ns wonderland
  (:require [clojure.set :as s]
            [alice :as al]))          
</code></pre>

<h2 id="함수정의">함수정의</h2>

<pre><code class="language-clojure">(defn follow-the-rabbit [] &quot;Off we go!&quot;)

(follow-the-rabbit)
;; &quot;Off we go!&quot;

defn shop-for-jams [jam1 jam2]
  {:name &quot;jam-basket&quot;
   :jam1 jam1
   :jam2 jam2})

(shop-for-jams &quot;strawberry&quot; &quot;marmalade&quot;)
;; {:name &quot;jam-basket&quot;, :jam1 &quot;strawberry&quot;, :jam2 &quot;marmalade&quot;}

;;anonymous 함수
(fn [] (str &quot;Off we go&quot; &quot;!&quot;))
;; #object[user$eval1365$fn__1366 0x4c3e78fd &quot;user$eval1365$fn__1366@4c3e78fd&quot;]

;; 단축표현(shorthand)
(#(str &quot;Off we go&quot; &quot;!&quot;))
;; &quot;Off we go!&quot;

(#(str &quot;Off we go&quot; &quot;!&quot; &quot; - &quot; %) &quot;again&quot;)
;; &quot;Off we go! - again&quot; %(또는 %1)는 첫번째 파라미터
두번째부터는 %2로 처리해야함
</code></pre>

<h2 id="제어구문">제어구문</h2>

<h3 id="if">if</h3>

<pre><code class="language-clojure">(if true &quot;true&quot; &quot;false&quot;)
;;-&gt; &quot;true&quot;

(if nil &quot;true&quot; &quot;false&quot;)
;;-&gt; &quot;false&quot;

(if (= :drink :drink)
  &quot;Try&quot;
  &quot;Don't try&quot; )
;;-&gt; &quot;Try&quot;

(let [is-small (&gt; 5 3)]
  (if is-small
    &quot;Small&quot;
    &quot;No&quot;))
;; &quot;Small&quot;    
;; 5보다 3이 작은경우 true를 저장하고 조건에 맞는 결과값을 반환한다

(if-let [is-small (&gt; 5 3)]
  &quot;Small&quot;
  &quot;No&quot;)
;; &quot;Small&quot;  
</code></pre>

<h3 id="when-when-let">when,when-let</h3>

<pre><code class="language-clojure">(defn ask [question]
  (when question &quot;Yes&quot;))
;;-&gt; &quot;Yes&quot;

(when-let [question] &quot;Yes&quot;)
;;-&gt; Yes otherwise nil
</code></pre>

<h3 id="cond-case">cond, case</h3>

<pre><code class="language-clojure">(let [bottle &quot;drink&quot;]
  (cond
    (= bottle &quot;poison&quot;) &quot;don't touch&quot;
    (= bottle &quot;empty&quot;) &quot;all gone&quot;))
 ;;-&gt; nil
</code></pre>

<p>cond와 달리 매칭되는 것이 없을 경우  IllegalArgumentException 을 발생시킴<br />
아래와 같이 익셉션을 발생하지 않고 unknown을 출력할 수 있음</p>

<pre><code class="language-clojure">(let [bottle &quot;drink&quot;]
 (case bottle
   &quot;poison&quot; &quot;don't touch&quot;
   &quot;drink&quot; &quot;drink it&quot; 
   &quot;unknown&quot; )) 
</code></pre>

<h2 id="그-밖의-expression">그 밖의 expression</h2>

<h3 id="doto">doto</h3>

<p>doto는 생성된 인스턴스에 계속적인 메서드를 호출(부가효과)를 할 수 있고<br />
최종적으로 돌려주는 것은 그 인스턴스가 된다</p>

<pre><code class="language-clojure">(doto (java.util.HashMap.)
      (.put &quot;name&quot; &quot;clojure&quot;)
      (.put &quot;ver&quot; &quot;1.7&quot;))

;; {&quot;name&quot; &quot;clojure&quot; , &quot;ver&quot; &quot;1.7&quot;}
</code></pre>

<h3 id="threading">Threading(-&gt;)</h3>

<p>최종적으로 돌려주는 것은 해당 메서드가 적용된 것</p>

<pre><code class="language-clojure">(-&gt; (java.util.HashMap.)
    (.put &quot;num&quot; 1234))
;; nil

(-&gt; &quot;aaaa&quot;
    (.toUpperCase))
;; &quot;AAAA&quot;
</code></pre>

<h2 id="database">Database</h2>

<ul>
<li><a href="http://clojure-doc.org/articles/ecosystem/java_jdbc/home.html">jdbc</a></li>
<li><a href="http://sqlkorma.com/">SQL Korma</a></li>
<li><a href="http://clojuremongodb.info">monger</a></li>
</ul>

<h2 id="java-interoperability">Java Interoperability</h2>

<p><a href="http://clojure.org/reference/java_interop">Java Interop</a></p>

<h3 id="import">Import</h3>

<pre><code class="language-clojure">(:import java.awt.Panel
         java.util.Date)

(:import (java.io Writer
                  ByteArrayOutputStream))
</code></pre>

<h3 id="inner-class를-사용할-경우">Inner class를 사용할 경우</h3>

<p>아래와 같은 클래스일 경우다</p>

<pre><code class="language-java">public class Robot {

  public static class Radio  {
   ...
  }
}
</code></pre>

<pre><code>(Robot$Radio.)
</code></pre>

<h3 id="try-catch">try..catch</h3>

<pre><code class="language-clojure"> (try
    (Integer/parseInt s)
    (catch NumberFormatException e
      (.printStackTrace e))
    (finally
      (println &quot;Attempted to parse as integer: &quot; s)))
</code></pre>

<h2 id="web-programming">Web Programming</h2>

<ul>
<li><a href="https://github.com/ring-clojure/ring">Ring</a></li>
<li><a href="http://www.luminusweb.net">Luminus</a></li>
</ul>

<h2 id="3rd-party-libraries">3rd Party Libraries</h2>

<ul>
<li>bouncer</li>
<li>validateur</li>
<li>SQLingvo</li>
<li>HoneySQL</li>
</ul>

<h2 id="plugins">plugins</h2>

<h3 id="lein-try-사용하기">lein-try 사용하기</h3>

<p>아래 파일을 편집한다</p>

<p>${HOME}/.lein/profiles.clj</p>

<pre><code class="language-clojure">{:user {:plugins [[lein-try &quot;0.4.3&quot;]]}}
</code></pre>

<p>clj-time이라는 라이브러를 가지고 간단한 테스트 해볼때<br />
아래와 같이 repl를 열수있다</p>

<pre><code>lein try clj-time
</code></pre>
 </div>
    <footer class="post-footer">

  <div class="post-footer-data">
    
<div class="tags">
    
      <div class="tag">
        <a href="/tags/clojure">#clojure</a>
      </div>
    
</div>

    <div class="date"> Sep 25, 2015 </div>
  </div>

</footer>


  
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'clonekim-github-io';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>
  Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




</article>

  <footer>

  <div class="social-links-footer">

  

  
  <a href="https://github.com/clonekim/" target="_blank"><div class="social-link">GitHub</div></a>
  

  

  

  

  <div class="social-link">
  <a href="http://localhost:1313/index.xml" target="_blank">RSS</a>
  </div>

</div>


  <div class="copyright">  </div>

  <div class="poweredby">
    Powered by <a href="https://gohugo.io/">Hugo</a>.
  </div>

  </footer>

<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

